// Generated by CoffeeScript 1.3.3

$(function() {
  var editor, languageMap, setMode;
  languageMap = {
    "Bash": "sh",
    "C": "c_cpp",
    "C++": "c_cpp",
    "Clojure": "clojure",
    "CoffeeScript": "coffee",
    "C#": "csharp",
    "CSS": "css",
    "F#": "ocaml",
    "Go": "golang",
    "HTML": "html",
    "Java": "java",
    "JavaScript": "javascript",
    "Latex": "latex",
    "Lua": "lua",
    "OCAML": "ocaml",
    "Perl": "perl",
    "PHP": "php",
    "Python": "python",
    "Ruby": "ruby",
    "Scala": "scala",
    "SQL": "sql",
    "Tex": "latex",
    "XML": "xml",
    "XQuery": "xquery",
    "YAML": "yaml"
  };
  setMode = function(modeName) {
    var LanguageMode, NormalMode, mode, name;
    for (name in languageMap) {
      mode = languageMap[name];
      if (name === modeName) {
        LanguageMode = ace.require("ace/mode/" + languageMap[name]).Mode;
        editor.getSession().setMode(new LanguageMode);
        return true;
      }
    }
    NormalMode = ace.require("ace/mode/text").Mode;
    editor.getSession().setMode(new NormalMode);
    return false;
  };
  editor = ace.edit("editor");
  editor.setTheme("ace/theme/twilight");
  setMode($("#language-selector").val());
  $("#language-selector").change(function() {
    setMode($(this).val());
  });
  editor.getSession().on('change', function() {
    $("#snippet-data").text(editor.getSession().getValue());
  });
});
